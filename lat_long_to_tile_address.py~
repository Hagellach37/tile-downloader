import os, sys
import math

class Point:
    def __init__(self, x=0.0, y=0.0):
        self.x = x
        self.y = y

def lat_long_to_pixel_coords(zoom_level, longitude, latitude):
    p = Point()
    lat = float(latitude)
    long = float(longitude)
    zoom = float(zoom_level)
    sinLat = math.sin(lat * math.pi/180.0)
    p.x = ((long + 180) / 360) * 256 * math.pow(2,zoom)
    p.y = (0.5 - math.log((1 + sinLat) / (1 - sinLat)) / 
          (4 * math.pi)) * 256 * math.pow(2,zoom)
    return p

def pixel_coords_to_tile_address(x,y):
    p = Point()
    p.x = math.floor(x / 256)
    p.y = math.floor(y / 256)
    return p

def tileXYZToQuadKey(x, y, z):
    quadKey = ''
    for i in range(z, 0, -1):
        digit = 0
        mask = 1 << (i - 1)
        if(x & mask) != 0:
            digit += 1
        if(y & mask) != 0:
            digit += 2
        quadKey += str(digit)
    return quadKey

if __name__ == "__main__":
    pixel_p = lat_long_to_pixel_coords(sys.argv[1], sys.argv[2], sys.argv[3])
    tile_p = pixel_coords_to_tile_address(pixel_p.x, pixel_p.y)
    print tile_p.x
    print tile_p.y



